(()=>{"use strict";const e=e=>{const t="a"==e.tagName.toLowerCase()?e.getAttribute("href").substr(1):e.closest("a").getAttribute("href").substr(1);document.getElementById(t).scrollIntoView({behavior:"smooth",block:"start"})};var t;((e,t=!1)=>{const o=document.getElementById("timer-hours"),s=document.getElementById("timer-minutes"),n=document.getElementById("timer-seconds"),a=new Date(e).getTime();let r;const l=e=>e<10?"0"+e:""+e;r=setInterval((()=>{const e=(()=>{const e=(new Date).getTime(),o=(a-e)/1e3,s=Math.floor(o/3600/24);let n=Math.floor(o/3600);n=t?n%24:n;const r=Math.floor(o/60)%60,i=Math.floor(o)%60;return{timeRemaining:o,days:l(s),hours:l(n),minutes:l(r),seconds:l(i)}})();e.timeRemaining<=0?clearInterval(r):(o.textContent=e.hours,s.textContent=e.minutes,n.textContent=e.seconds)}),1e3)})("08 march 2022"),(()=>{const t=document.querySelector("menu");document.addEventListener("click",(o=>(o=>{if(o.target.closest(".menu")||o.target.closest("menu")){if(o.preventDefault(),o.target.matches("ul>li>a"))e(o.target);else if(!o.target.classList.contains("close-btn")&&o.target.closest("menu"))return}else if(!t.classList.contains("active-menu"))return;t.classList.toggle("active-menu")})(o)))})(),(()=>{const e=document.querySelector(".popup"),t=e.querySelector(".popup-content");document.querySelectorAll(".popup-btn").forEach((o=>o.addEventListener("click",(()=>{e.style.display="block",window.outerWidth>768&&function(){let e,o=-50;const s=function(){const n=(new Date).getTime(),a=n-(e||n);e=n,o+=.5*a,o<10?(requestAnimationFrame(s),t.style.top=`${o}%`):t.style.top=""};s()}()})))),e.addEventListener("click",(t=>{t.target.closest(".popup-content")&&!t.target.classList.contains("popup-close")||(e.style.display="")}))})(),document.querySelector('a[href="#service-block"]').addEventListener("click",(t=>{t.preventDefault(),e(t.target)})),document.querySelectorAll(".calc-item").forEach((e=>{e.classList.contains("calc-type")||e.addEventListener("input",(e=>{e.target.value=e.target.value.replace(/\D+/gi,"")}))})),(t={constransTemplates:{hasNotText:/[^а-яёА-ЯЁ \-]/gi,hasNotEmail:/[^\w\-\@\.\!\~\*\']/gi,hasNotTelephone:/[^\d\(\)\-']/gi},formList:[{formId:"form1",formFields:[{fieldId:"form1-name",fieldConstrians:["hasNotText"]},{fieldId:"form1-email",fieldConstrians:["hasNotEmail"]},{fieldId:"form1-phone",fieldConstrians:["hasNotTelephone"]}]},{formId:"form2",formFields:[{fieldId:"form2-name",fieldConstrians:["hasNotText"]},{fieldId:"form2-message",fieldConstrians:["hasNotText"]},{fieldId:"form2-email",fieldConstrians:["hasNotEmail"]},{fieldId:"form2-phone",fieldConstrians:["hasNotTelephone"]}]},{formId:"form3",formFields:[{fieldId:"form3-name",fieldConstrians:["hasNotText"]},{fieldId:"form3-email",fieldConstrians:["hasNotEmail"]},{fieldId:"form3-phone",fieldConstrians:["hasNotTelephone"]}]}]}).formList.forEach((e=>{e.form=document.getElementById(e.formId),e.formFields.forEach((e=>{e.field=document.getElementById(e.fieldId),e.field.addEventListener("input",(o=>{o.target.value=o.target.value.replace(t.constransTemplates[e.fieldConstrians[0]],"")})),e.field.addEventListener("blur",(o=>{var s;o.target.value=(s=t.constransTemplates[e.fieldConstrians[0]],o.target.value.replace(s,"").replace(/( ){2,}/gi,((e,t)=>t)).replace(/(\-){2,}/gi,((e,t)=>t)).replace(/(^[ \-]+|[ \-]+$)/gi,"")),/name/gi.test(e.fieldId)&&(o.target.value=o.target.value.toLowerCase().replace(/((^[а-яё])|((?<=[^а-яё])[а-яё]))/gi,((e,t)=>(t+"").toUpperCase())))}))})),e.form.addEventListener("submit",(o=>{o.preventDefault();const s=e.formFields;let n=!1;s.forEach((e=>{t.constransTemplates[e.fieldConstrians[0]].test(e.field.value)||""===e.field.value?n=!0:console.log("Поле корректное")})),!n&&console.log("Данные отправлены")}))})),(()=>{const e=document.querySelector(".service-header"),t=document.querySelectorAll(".service-header-tab"),o=document.querySelectorAll(".service-tab");e.addEventListener("click",(e=>{const s=e.target.closest(".service-header-tab");s&&t.forEach(((e,t)=>{e===s?(e.classList.add("active"),o[t].classList.remove("d-none")):(e.classList.remove("active"),o[t].classList.add("d-none"))}))}))})()})();